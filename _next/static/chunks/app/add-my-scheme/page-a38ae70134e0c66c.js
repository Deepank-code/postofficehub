(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{14186:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},29300:(e,t)=>{var a;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=l(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=l(t,a));return t}(a)))}return e}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(a=(function(){return n}).apply(t,[]))||(e.exports=a)}()},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},63334:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(95155),n=a(12115);let l=(0,a(19946).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var s=a(14186);let o=e=>{let{type:t="text",value:a,onChange:n,placeholder:l,className:s=""}=e;return(0,r.jsx)("input",{type:t,value:a,onChange:n,placeholder:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(s)})};var i=a(65222),u=a(35695),c=a(13568);let d=[{name:"Recurring Deposit (RD)",durations:[{value:"5",label:"5 Years (Fixed)"}]},{name:"Time Deposit (TD)",durations:[{value:"1",label:"1 Year"},{value:"2",label:"2 Years"},{value:"3",label:"3 Years"},{value:"5",label:"5 Years"}]},{name:"Monthly Income Scheme (MIS)",durations:[{value:"5",label:"5 Years (Fixed)"}]},{name:"Kisan Vikas Patra (KVP)",durations:[{value:"10.4",label:"10.4 Years (Money Doubles)"}]},{name:"Senior Citizen Savings Scheme (SCSS)",durations:[{value:"5",label:"5 Years (Extendable by 3 years)"}]},{name:"Public Provident Fund (PPF)",durations:[{value:"15",label:"15 Years (Extendable in blocks of 5 years)"}]},{name:"National Savings Certificate (NSC)",durations:[{value:"5",label:"5 Years (Fixed)"}]},{name:"Postal Life Insurance (PLI)",durations:[{value:"10",label:"10 Years"},{value:"15",label:"15 Years"},{value:"20",label:"20 Years"}]},{name:"Rural Postal Life Insurance (RPLI)",durations:[{value:"10",label:"10 Years"},{value:"15",label:"15 Years"},{value:"20",label:"20 Years"}]}];function m(){let[e,t]=(0,n.useState)(""),[a,m]=(0,n.useState)(""),[h,v]=(0,n.useState)(""),[b,g]=(0,n.useState)(""),[x,f]=(0,n.useState)(""),[p,y]=(0,n.useState)(""),S=(0,u.useRouter)();(0,n.useEffect)(()=>{"Notification"in window&&"granted"!==Notification.permission&&Notification.requestPermission()},[]);let j=(e,t)=>{let a=new Date(e),r=parseFloat(t),n=Math.floor(r%1*12),l=new Date(a);return l.setFullYear(l.getFullYear()+Math.floor(r)),l.setMonth(l.getMonth()+n),l.toISOString().split("T")[0]},N=d.find(e=>e.name===a);return(0,r.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow p-6 mt-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4 space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,r.jsx)(l,{className:"text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Add Investment Scheme"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Track your post office investments easily"})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-800 text-sm mb-4",children:["⚠️ ",(0,r.jsx)("strong",{children:"Important:"})," Your schemes are saved locally on your device only. Clearing browser data, uninstalling, or removing the app will delete your saved schemes."]}),(0,r.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!e||!a||!h||!b||!x)return void c.Ay.error("Please fill in all required fields");let r=j(h,b),n=new Date,l=Math.ceil((new Date(r)-n)/864e5),s={id:Date.now(),customName:e,schemeName:a,investmentDate:h,duration:b,maturityDate:r,amount:parseFloat(x),note:p,daysRemaining:l,notifiedDates:[]};try{let t=[],r=localStorage.getItem("customSchemes");(t=r?JSON.parse(r):[]).push(s),localStorage.setItem("customSchemes",JSON.stringify(t)),"Notification"in window&&"granted"===Notification.permission&&navigator.serviceWorker.getRegistration().then(t=>{t?t.showNotification("Scheme Added",{body:"".concat(e," (").concat(a,") added for tracking."),icon:"/post-rd.webp"}):console.log("No Service Worker registration found, skipping notification.")}).catch(e=>{console.error("Error showing notification:",e)}),c.Ay.success("Scheme added successfully! Redirecting..."),S.push("/my-investments")}catch(e){console.error("Error saving scheme:",e),c.Ay.error("Something went wrong while saving your scheme.")}},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"customName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter your purpose for this investment"}),(0,r.jsx)(o,{id:"customName",placeholder:"Eg: Daughter's Education",value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"schemeName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select the scheme you are investing in"}),(0,r.jsxs)("select",{id:"schemeName",value:a,onChange:e=>{m(e.target.value),g("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Choose a scheme"}),d.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"investmentDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select your investment starting date"}),(0,r.jsx)(o,{id:"investmentDate",type:"date",value:h,onChange:e=>v(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select duration as per your scheme"}),(0,r.jsxs)("select",{id:"duration",value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!N,children:[(0,r.jsx)("option",{value:"",children:"Select duration"}),null==N?void 0:N.durations.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter your investment amount (₹)"}),(0,r.jsx)(o,{id:"amount",type:"number",placeholder:"Eg: 1000",value:x,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional notes (optional)"}),(0,r.jsx)(o,{id:"note",placeholder:"Eg: Matures before daughter's college",value:p,onChange:e=>y(e.target.value)})]}),(0,r.jsxs)(i.A,{type:"submit",className:"w-full mb-10 bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(s.A,{className:"mr-2 h-4 w-4"}),"Add Scheme"]})]})]})}},65222:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(95155);a(12115);var n=a(29300),l=a.n(n);let s=e=>{let{children:t,className:a="",type:n="button",onClick:s,disabled:o=!1}=e;return(0,r.jsx)("button",{type:n,onClick:s,disabled:o,className:l()("inline-flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200","bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",a),children:t})}},95016:(e,t,a)=>{Promise.resolve().then(a.bind(a,63334))}},e=>{var t=t=>e(e.s=t);e.O(0,[625,441,684,358],()=>t(95016)),_N_E=e.O()}]);